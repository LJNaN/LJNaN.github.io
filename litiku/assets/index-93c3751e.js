import{a as N,L as j,R as P,B as V}from"./Bottom-bd1211e4.js";import{_ as $,r as w,o as A,a as u,c as I,w as D,b as a,d as _,e as k,t as y,u as B,F as L,g as C,f as F,h as R,i as p,j as T,p as E,k as J,L as O,l as z}from"./index-d4e27922.js";const H={class:"left-status"},M=["src"],q={class:"left-status-item-right"},K={class:"left-status-item-right-name"},Q={class:"left-status-item-right-number"},U={__name:"left",setup(x){const{appContext:{app:{config:{globalProperties:{$isOurSite:g}}}}}=C();let h=w([{name:"今日已出库",value:0,img:"left_icon1.png"},{name:"今日已入库",value:0,img:"left_icon1.png"},{name:"今日库存",value:0,img:"left_icon2.png"},{name:"剩余货位数",value:0,img:"left_icon3.png"}]);A(()=>{S()}),setInterval(()=>{S()},3e4);function S(){let r={};N.get("/api/GetInventory").then(n=>{r=n}).catch(()=>{r={data:{code:200,message:{stock:0,surplus:0,in:0,out:0}}}}).finally(()=>{g&&(r={data:{code:200,message:{stock:29494,surplus:15768,in:267,out:2879}}}),h.value[0].value=r.data.message.out,h.value[1].value=r.data.message.in,h.value[2].value=r.data.message.stock,h.value[3].value=r.data.message.surplus})}return(r,n)=>(u(),I(j,{class:"left"},{default:D(()=>[a("div",H,[(u(!0),_(L,null,k(B(h),(c,d)=>(u(),_("div",{class:"left-status-item",key:d},[a("img",{src:"./assets/2d/images/digitalReservoirArea/"+c.img},null,8,M),a("div",q,[a("p",K,y(c.name),1),a("p",Q,y(c.value),1)])]))),128))])]),_:1}))}},X=$(U,[["__scopeId","data-v-09327b30"]]);const W=x=>(E("data-v-98e8ab96"),x=x(),J(),x),Y={class:"chunk1-body"},Z=["src"],tt={class:"chunk1-item-center"},et=W(()=>a("p",null,"存储率",-1)),at={class:"chunk1-item-rate"},ot=W(()=>a("span",{style:{"font-size":"0.73vw"}},"%",-1)),st={__name:"right",setup(x){const{appContext:{app:{config:{globalProperties:{$isOurSite:g}}}}}=C();A(()=>{S()}),setInterval(()=>{S()},3e4);const h=w([{name:"1号",value:0,img:"pad1.png"},{name:"2号",value:0,img:"pad2.png"}]);function S(){let n={};N.get("/api/GetInventoryRatio").then(c=>{n=c}).catch(()=>{n={data:{code:200,message:{堆垛机1:0,堆垛机2:0,堆垛机3:0,堆垛机4:0,堆垛机5:0,堆垛机6:0,堆垛机7:0,堆垛机8:0,堆垛机9:0,堆垛机10:0,堆垛机11:0,堆垛机12:0,堆垛机13:0,堆垛机14:0,堆垛机15:0,堆垛机16:0,堆垛机17:0,堆垛机18:0}}}}).finally(()=>{g&&(n={data:{code:200,message:{堆垛机1:52,堆垛机2:51,堆垛机3:67,堆垛机4:69,堆垛机5:67,堆垛机6:69,堆垛机7:67,堆垛机8:68,堆垛机9:68,堆垛机10:67,堆垛机11:67,堆垛机12:67,堆垛机13:67,堆垛机14:69,堆垛机15:67,堆垛机16:66,堆垛机17:67,堆垛机18:67}}}),r.phoneRateList.value=[],h.value[0].value=n.data.message.堆垛机1,h.value[1].value=n.data.message.堆垛机2,delete n.data.message.堆垛机1,delete n.data.message.堆垛机2;const c=[];for(let d in n.data.message)c.push({id:d.replace("堆垛机",""),value:n.data.message[d]});r.phoneRateList.value=c,r.phoneRateChart()})}const r={phoneRateList:w([]),phoneRateOption:F({}),phoneRateChart(){const n=r.phoneRateList.value,c="#EF9C00",d=n.map(e=>e.id),b=n.map(e=>e.value),v=JSON.parse(JSON.stringify(b)).reverse(),o=100;let t=[];for(let e=0;e<r.phoneRateList.value.length;e++)t.push(o);let s={grid:{left:"5%",right:"5%",bottom:"3%",top:"-3%",containLabel:!0},xAxis:[{show:!1},{show:!1}],yAxis:[{show:!1,inverse:!0,data:b},{show:!0,data:v,offset:0,position:"right",axisLabel:{lineHeight:-6,verticalAlign:"bottom",fontWeight:"bold",fontSize:12,offset:[10,0],color:"#FFF"},axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1}}],tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(150,150,150,0.1)"}},formatter:function(e){return`${d[e[0].dataIndex]} 号库<br /> ${e[1].marker} ${e[1].data}%`}},series:[{name:"满值",z:1,show:!0,type:"bar",xAxisIndex:1,barGap:"-100%",barWidth:14,itemStyle:{color:"none",borderColor:"#FFF",borderWidth:.5},label:{show:!0,position:"left",fontSize:12,offset:[-15,0],color:"#fff",fontWeight:"bold",formatter:function(e){return d[e.dataIndex]},align:"center",verticalAlign:"middle",backgroundColor:"#906e30",height:20,width:20,borderColor:"#a99d78",borderWidth:1,borderRadius:.5},data:t},{name:"储存率",show:!0,type:"bar",xAxisIndex:1,barWidth:4,barGap:"-65%",itemStyle:{borderRadius:4,color:"#EF9C00"},label:{show:!1},labelLine:{show:!1},z:2,data:b,animationDelay:1e3,animationDuration:1e3},{name:"外圆",type:"scatter",emphasis:{scale:!1},xAxisIndex:1,symbolSize:6,symbolOffset:[0,2.5],itemStyle:{color:c,shadowColor:"rgba(255, 255, 255, 0.5)",shadowBlur:5,borderWidth:1,opacity:1},z:2,data:b,animationDelay:1500,animationDuration:1e3}]};r.phoneRateOption.value=s}};return(n,c)=>{const d=R("card-chunk"),b=R("chart-view");return u(),I(P,null,{default:D(()=>[p(d,{title:"Pad库",class:"chunk1"},{default:D(()=>[a("div",Y,[(u(!0),_(L,null,k(h.value,(v,o)=>(u(),_("div",{class:"chunk1-item",key:o},[a("img",{src:"./assets/2d/images/digitalReservoirArea/"+v.img},null,8,Z),a("div",tt,[a("p",null,y(v.name),1),et]),a("p",at,[T(y(v.value),1),ot])]))),128))])]),_:1}),p(d,{title:"手机库储存率",class:"chunk2"},{default:D(()=>[p(b,{chartOption:r.phoneRateOption.value||{},"auto-tooltip":""},null,8,["chartOption"])]),_:1})]),_:1})}}},lt=$(st,[["__scopeId","data-v-98e8ab96"]]);const rt={class:"chunk2-body"},nt={class:"chunk2-row"},it=["src"],ut=["src"],ct={class:"chunk2-row"},dt=["src"],ht=["src"],_t={class:"chunk3-body"},mt={class:"chunk3-row"},ft=["src"],pt={class:"chunk3-row"},gt=["src"],Dt={__name:"bottom",setup(x){const{appContext:{app:{config:{globalProperties:{$isOurSite:g}}}}}=C();A(()=>{h(),S(),c(),v()}),setInterval(()=>{h(),S(),c(),v()},3e4);function h(){let t={};o.cargoInfoList.value={},N.get("/api/GetHourTrend").then(s=>{t=s}).catch(()=>{t={data:{code:200,message:{out:[{hour:0,total:0},{hour:1,total:0},{hour:2,total:0},{hour:3,total:0},{hour:4,total:0},{hour:5,total:0},{hour:6,total:0},{hour:7,total:0},{hour:8,total:0},{hour:9,total:0},{hour:10,total:0},{hour:11,total:0},{hour:12,total:0},{hour:13,total:0},{hour:14,total:0},{hour:15,total:0},{hour:16,total:0},{hour:17,total:0},{hour:18,total:0},{hour:19,total:0},{hour:20,total:0},{hour:21,total:0},{hour:22,total:0},{hour:23,total:0}],in:[{hour:0,total:0},{hour:1,total:0},{hour:2,total:0},{hour:3,total:0},{hour:4,total:0},{hour:5,total:0},{hour:6,total:0},{hour:7,total:0},{hour:8,total:0},{hour:9,total:0},{hour:10,total:0},{hour:11,total:0},{hour:12,total:0},{hour:13,total:0},{hour:14,total:0},{hour:15,total:0},{hour:16,total:0},{hour:17,total:0},{hour:18,total:0},{hour:19,total:0},{hour:20,total:0},{hour:21,total:0},{hour:22,total:0},{hour:23,total:0}]}}}}).finally(()=>{g&&(t={data:{code:200,message:{out:[{hour:0,total:0},{hour:1,total:0},{hour:2,total:0},{hour:3,total:0},{hour:4,total:0},{hour:5,total:0},{hour:6,total:0},{hour:7,total:0},{hour:8,total:873},{hour:9,total:1255},{hour:10,total:751},{hour:11,total:0},{hour:12,total:0},{hour:13,total:0},{hour:14,total:0},{hour:15,total:0},{hour:16,total:0},{hour:17,total:0},{hour:18,total:0},{hour:19,total:0},{hour:20,total:0},{hour:21,total:0},{hour:22,total:0},{hour:23,total:0}],in:[{hour:0,total:0},{hour:1,total:0},{hour:2,total:0},{hour:3,total:0},{hour:4,total:0},{hour:5,total:0},{hour:6,total:0},{hour:7,total:0},{hour:8,total:0},{hour:9,total:4},{hour:10,total:341},{hour:11,total:0},{hour:12,total:0},{hour:13,total:0},{hour:14,total:0},{hour:15,total:0},{hour:16,total:0},{hour:17,total:0},{hour:18,total:0},{hour:19,total:0},{hour:20,total:0},{hour:21,total:0},{hour:22,total:0},{hour:23,total:0}]}}}),o.cargoInfoList.value=t.data.message,o.cargoInfo()})}function S(){let t={};o.flowTrend1.value=[],o.flowTrend2.value=[],N.get("/api/GetDayTrend").then(s=>{t=s}).catch(()=>{t={data:{code:200,message:{out:[{date:"2023-02-25",total:0},{date:"2023-02-26",total:0},{date:"2023-02-27",total:0},{date:"2023-02-28",total:0},{date:"2023-03-01",total:0},{date:"2023-03-02",total:0},{date:"2023-03-03",total:0}],in:[{date:"2023-02-25",total:0},{date:"2023-02-26",total:0},{date:"2023-02-27",total:0},{date:"2023-02-28",total:0},{date:"2023-03-01",total:0},{date:"2023-03-02",total:0},{date:"2023-03-03",total:0}]}}}}).finally(()=>{g&&(t={data:{code:200,message:{out:[{date:"2023-02-25",total:9401},{date:"2023-02-26",total:9028},{date:"2023-02-27",total:10066},{date:"2023-02-28",total:9558},{date:"2023-03-01",total:8591},{date:"2023-03-02",total:9522},{date:"2023-03-03",total:3023}],in:[{date:"2023-02-25",total:9112},{date:"2023-02-26",total:7931},{date:"2023-02-27",total:8172},{date:"2023-02-28",total:6271},{date:"2023-03-01",total:7698},{date:"2023-03-02",total:8413},{date:"2023-03-03",total:394}]}}}),o.flowTrend1.value=t.data.message.in,o.flowTrend2.value=t.data.message.out,o.flowTrend()})}let r=w([]);const n=[{color:"#FF9C00",text:"使用"},{color:"#FFFFFF",text:"空闲"},{color:"#FF0404",text:"故障"}];function c(){let t={};N.get("/api/GetStacker").then(s=>{t=s}).catch(()=>{t={data:{code:200,message:[{D_Name:"堆垛机17",D_Status:"使用"},{D_Name:"堆垛机10",D_Status:"使用"},{D_Name:"堆垛机11",D_Status:"使用"},{D_Name:"堆垛机12",D_Status:"使用"},{D_Name:"堆垛机13",D_Status:"使用"},{D_Name:"堆垛机14",D_Status:"使用"},{D_Name:"堆垛机15",D_Status:"使用"},{D_Name:"堆垛机16",D_Status:"使用"},{D_Name:"堆垛机18",D_Status:"使用"},{D_Name:"堆垛机1",D_Status:"使用"},{D_Name:"堆垛机2",D_Status:"使用"},{D_Name:"堆垛机3",D_Status:"使用"},{D_Name:"堆垛机4",D_Status:"使用"},{D_Name:"堆垛机5",D_Status:"使用"},{D_Name:"堆垛机6",D_Status:"使用"},{D_Name:"堆垛机7",D_Status:"使用"},{D_Name:"堆垛机8",D_Status:"使用"},{D_Name:"堆垛机9",D_Status:"使用"}]}}}).finally(()=>{g&&(t={data:{code:200,message:[{D_Name:"堆垛机17",D_Status:"使用"},{D_Name:"堆垛机10",D_Status:"使用"},{D_Name:"堆垛机11",D_Status:"使用"},{D_Name:"堆垛机12",D_Status:"使用"},{D_Name:"堆垛机13",D_Status:"使用"},{D_Name:"堆垛机14",D_Status:"使用"},{D_Name:"堆垛机15",D_Status:"使用"},{D_Name:"堆垛机16",D_Status:"使用"},{D_Name:"堆垛机18",D_Status:"使用"},{D_Name:"堆垛机1",D_Status:"使用"},{D_Name:"堆垛机2",D_Status:"使用"},{D_Name:"堆垛机3",D_Status:"使用"},{D_Name:"堆垛机4",D_Status:"使用"},{D_Name:"堆垛机5",D_Status:"使用"},{D_Name:"堆垛机6",D_Status:"使用"},{D_Name:"堆垛机7",D_Status:"使用"},{D_Name:"堆垛机8",D_Status:"使用"},{D_Name:"堆垛机9",D_Status:"使用"}]}}),r.value=t.data.message.map(s=>{let e="";return s.D_Status==="使用"&&(e=2),{name:s.D_Name,status:e}})})}let d=w([]);const b=[{color:"#44FFA9",text:"使用"},{color:"#FFFFFF",text:"空闲"},{color:"#FF0404",text:"故障"}];function v(){let t={};N.get("/api/GetRobot").then(s=>{t=s}).catch(()=>{t={data:{code:200,message:[{D_Name:"机器人6",D_Status:"使用"},{D_Name:"机器人4",D_Status:"使用"},{D_Name:"机器人5",D_Status:"使用"},{D_Name:"机器人7",D_Status:"使用"},{D_Name:"机器人8",D_Status:"使用"},{D_Name:"机器人3",D_Status:"使用"},{D_Name:"机器人2",D_Status:"使用"},{D_Name:"机器人1",D_Status:"使用"}]}}}).finally(()=>{g&&(t={data:{code:200,message:[{D_Name:"机器人6",D_Status:"使用"},{D_Name:"机器人4",D_Status:"使用"},{D_Name:"机器人5",D_Status:"使用"},{D_Name:"机器人7",D_Status:"使用"},{D_Name:"机器人8",D_Status:"使用"},{D_Name:"机器人3",D_Status:"使用"},{D_Name:"机器人2",D_Status:"使用"},{D_Name:"机器人1",D_Status:"使用"}]}}),d.value=t.data.message.map(s=>{let e="";return s.D_Status==="使用"&&(e=2),{name:s.D_Name,status:e}})})}const o={cargoInfoList:F({}),cargoInfoOption:F({}),cargoInfo(){let t=o.cargoInfoList.value.out.map(i=>i.hour),s=[],e=o.cargoInfoList.value.out.map(i=>i.total),f=o.cargoInfoList.value.in.map(i=>i.total);t.forEach(i=>{JSON.stringify(i).length===1?s.push("0"+i+":00"):s.push(i+":00")});let l={legend:{align:"left",right:"10%",top:"10%",textStyle:{color:"#B3B3B3",fontSize:12},icon:"rect",itemGap:20,itemWidth:15,itemHeight:5,itemStyle:{borderWidth:0},data:["出库","入库"]},grid:{top:"25%",left:"5%",right:"8%",bottom:"5%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLine:{show:!0,lineStyle:{color:"#696B72"}},axisLabel:{textStyle:{color:"#B3B3B3",fontSize:12},formatter:function(i){return i}},splitLine:{show:!1},axisTick:{show:!1},data:s}],yAxis:[{name:"单位：只",nameTextStyle:{color:"#B3B3B3",fontSize:12,padding:[0,0,0,20]},splitLine:{show:!0,lineStyle:{color:"#696B72",type:"dashed"}},axisLine:{show:!1},axisLabel:{show:!0,textStyle:{color:"#B3B3B3",fontSize:12},formatter:function(i){return i}},axisTick:{show:!1}}],tooltip:{trigger:"axis"},series:[{name:"出库",type:"line",symbol:"circle",showAllSymbol:!0,symbolSize:10,smooth:!1,lineStyle:{normal:{width:2,color:"#90702e"},borderColor:"rgba(0,0,0,.4)"},itemStyle:{color:"#90702e",borderColor:"#ffffff",borderWidth:2},areaStyle:{normal:{color:new O(0,0,0,1,[{offset:0,color:"rgba(239, 156, 0,.3)"},{offset:1,color:"rgba(239, 156, 0, 0)"}],!1),shadowColor:"rgba(239, 156, 0, 0.5)",shadowBlur:20}},data:e},{name:"入库",type:"line",symbol:"circle",showAllSymbol:!0,symbolSize:10,smooth:!1,lineStyle:{normal:{width:2,color:"#ef9c00"},borderColor:"rgba(0,0,0,.4)"},itemStyle:{color:"#ef9c00",borderColor:"#ffffff",borderWidth:2},areaStyle:{normal:{color:new O(0,0,0,1,[{offset:0,color:"rgba(239, 156, 0,.3)"},{offset:1,color:"rgba(239, 156, 0, 0)"}],!1),shadowColor:"rgba(239, 156, 0, 0.5)",shadowBlur:20}},data:f}]};o.cargoInfoOption.value=l},flowTrend1:w([]),flowTrend2:w([]),flowTrendOption:F({}),flowTrend(){let t=o.flowTrend1.value,s=o.flowTrend2.value,e=[],f=[],l=[],i=[];for(let m=0;m<t.length;m++)i.push(100);t.forEach(m=>{e.push(m.date),f.push(m.total)}),l=s.map(m=>m.total);let G={grid:{top:"24%",bottom:"4%",left:"3%",right:"4%",containLabel:!0},tooltip:{show:!0,trigger:"axis",formatter:function(m){return`${m[0].seriesName}&nbsp;&nbsp;&nbsp;${m[0].value} <br /> ${m[1].seriesName}&nbsp;&nbsp;&nbsp;${m[1].value}`}},legend:{align:"left",right:"4%",top:"4%",textStyle:{color:"#B3B3B3",fontSize:12},itemGap:20,itemStyle:{borderWidth:0},data:["出库","入库"]},xAxis:{data:e,axisTick:{show:!1},axisLabel:{show:!0,align:"center",textStyle:{fontSize:12,color:"#B3B3B3"}},interval:0},yAxis:{minInterval:5e3,type:"value",name:"单位： 只",nameTextStyle:{color:"#B3B3B3",fontSize:12,padding:[0,0,0,20]},axisLabel:{show:!0,textStyle:{fontSize:12,color:"#B3B3B3"}},splitLine:{show:!0,lineStyle:{color:"#696B72",type:"dashed"}}},series:[{name:"出库",type:"line",symbol:"circle",showAllSymbol:!0,symbolSize:8,smooth:!1,lineStyle:{width:1,color:"#ffffff"},itemStyle:{color:"#ffffff",borderColor:"#ffffff",borderWidth:1},data:l,z:13},{name:"入库",type:"pictorialBar",symbolSize:[14,8],symbolOffset:[0,-5],z:12,itemStyle:{color:"#ef9c00"},label:{show:!1,position:"top",fontSize:16},symbolPosition:"end",data:f},{type:"bar",itemStyle:{normal:{color:function(){return new O(0,0,0,1,[{offset:0,color:"#ef9c00ff"},{offset:1,color:"#ef9c0000"}])},opacity:.8}},z:16,silent:!0,barWidth:14,data:f},{type:"bar",itemStyle:{color:"rgba(255, 255, 255, 0.1)"},z:16,silent:!0,barWidth:14,data:i,barGap:"-100%"}]};o.flowTrendOption.value=G}};return(t,s)=>{const e=R("chart-view"),f=R("card-chunk");return u(),I(V,{style:{height:"20.7vh"}},{default:D(()=>[p(f,{title:"日吞吐量",class:"chunk1"},{default:D(()=>[JSON.stringify(o.cargoInfoOption.value)!="{}"?(u(),I(e,{key:0,chartOption:o.cargoInfoOption.value||{},"auto-tooltip":""},null,8,["chartOption"])):z("",!0)]),_:1}),p(f,{title:"推垛机",class:"chunk2",moreText:n},{default:D(()=>[a("div",rt,[a("div",nt,[(u(!0),_(L,null,k(B(r).slice(0,9),l=>(u(),_("div",{class:"chunk2-item",key:l.name},[a("img",{src:"./assets/2d/images/digitalReservoirArea/duiduoji"+l.status+".png"},null,8,it),a("img",{src:"./assets/2d/images/digitalReservoirArea/duiduojibg"+l.status+".png"},null,8,ut),T(" "+y(l.name),1)]))),128))]),a("div",ct,[(u(!0),_(L,null,k(B(r).slice(9,18),l=>(u(),_("div",{class:"chunk2-item",key:l.name},[a("img",{src:"./assets/2d/images/digitalReservoirArea/duiduoji"+l.status+".png"},null,8,dt),a("img",{src:"./assets/2d/images/digitalReservoirArea/duiduojibg"+l.status+".png"},null,8,ht),T(" "+y(l.name),1)]))),128))])])]),_:1}),p(f,{title:"拣选机器人",class:"chunk3",moreText:b},{default:D(()=>[a("div",_t,[a("div",mt,[(u(!0),_(L,null,k(B(d).slice(0,4),l=>(u(),_("div",{class:"chunk3-item",key:l.name},[a("img",{src:"./assets/2d/images/digitalReservoirArea/jianxuan"+l.status+".png"},null,8,ft),a("p",null,y(l.name),1)]))),128))]),a("div",pt,[(u(!0),_(L,null,k(B(d).slice(4,8),l=>(u(),_("div",{class:"chunk3-item",key:l.name},[a("img",{src:"./assets/2d/images/digitalReservoirArea/jianxuan"+l.status+".png"},null,8,gt),a("p",null,y(l.name),1)]))),128))])])]),_:1}),p(f,{title:"流量趋势",class:"chunk4"},{default:D(()=>[JSON.stringify(o.flowTrendOption.value)!="{}"?(u(),I(e,{key:0,chartOption:o.flowTrendOption.value||{},"auto-tooltip":""},null,8,["chartOption"])):z("",!0)]),_:1})]),_:1})}}},St=$(Dt,[["__scopeId","data-v-f8ed331b"]]);const bt={class:"main"},vt={__name:"index",setup(x){return(g,h)=>(u(),_("div",bt,[p(X),p(lt),p(St)]))}},Nt=$(vt,[["__scopeId","data-v-4e1e4a45"]]);export{Nt as default};
