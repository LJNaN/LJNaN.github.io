import{_ as E,r as h,S as d,o as F,b as a,c as l,d as e,n as k,u,w as y,v as C,t as r,a as D,e as x,F as I,g as U,f as B,h as L,p as A,i as P,j,k as z,l as M,m as G}from"./index-4487308c.js";import{_ as V}from"./singleActive-4499948f.js";const N=_=>(A("data-v-e9797b46"),_=_(),P(),_),H={class:"detail"},J={class:"title"},K=N(()=>e("p",{class:"title-left"},"人员信息详情",-1)),Q={class:"title-right"},R=N(()=>e("img",{src:V},null,-1)),W=N(()=>e("div",{class:"table-title"},[e("p",null,"姓名"),e("p",null,"岗位信息"),e("p",null,"评价分类")],-1)),X={class:"item"},Y={class:"item1"},Z={class:"item2"},ee=N(()=>e("div",{class:"line"},null,-1)),te={__name:"personInfo",setup(_){const{appContext:{app:{config:{globalProperties:{$isOurSite:f}}}}}=U();let i=h(!1);function S(){d.allowControl.value&&(i.value=!i.value)}const m=d.currentScene[0];let v=[];f?v=d.personAllUsefulList:v=d.personAllUsefulList.filter(g=>g.info.title===m);function p(){i.value=!1}return F(()=>{}),(g,O)=>{const $=B("el-scrollbar");return a(),l(I,null,[e("div",{class:"left-btn publicBtn",style:k({background:"url(./assets/3d/image/"+(u(i)?"6":"5")+".png) center / 100% 100% no-repeat",cursor:u(d).allowControl.value?"pointer":"wait"}),onClick:S}," 区域人员 ",4),y(e("div",H,[e("div",{class:"close",onClick:p}),e("div",J,[K,e("div",Q,[R,e("p",null,r(u(m)),1)])]),W,D($,{class:"wrap"},{default:x(()=>[(a(!0),l(I,null,L(u(v),s=>(a(),l("div",X,[e("div",Y,r(s.name),1),e("div",Z,r((s.info.value3||"")+(s.info.value5?" | "+s.info.value5:"")+(s.info.value4?" | "+s.info.value4:"")),1),e("div",{class:"item3",style:k({color:s.info.value2==="重点监管"?"#b01e1e":s.info.value2==="加强监管"?"#c17f26":s.info.value2==="需关注"?"#c1be26":s.info.value2==="安全"?"#356cb0":"#FFFFFF"})},r(s.info.value2),5),ee]))),256))]),_:1})],512),[[C,u(i)]])],64)}}},he=E(te,[["__scopeId","data-v-e9797b46"]]);const T=_=>(A("data-v-846f2434"),_=_(),P(),_),se={class:"detail"},ne={class:"title"},ae=T(()=>e("p",{class:"title-center"},"设备列表",-1)),le={class:"title-right"},oe=T(()=>e("img",{src:V},null,-1)),ie={class:"wrap"},ce=["onClick"],ue={class:"detail2"},re={class:"detail2-list"},de={class:"detail2-list-name"},_e={class:"detail2-list-item"},pe={key:1},fe={__name:"deviceInfo",setup(_){let f=h(!1),i=h(!1);function S(){d.allowControl.value&&(f.value=!f.value)}const m=d.currentScene[0],v=h([]),p=h([]),g=h([]);function O(){i.value?i.value=!1:f.value=!1}F(async()=>{const s=d.popupLocationList.find(c=>c.name===m);if(!s)return;const o=await j({pointId:s.id});o!=null&&o.list&&(g.value=o.list,v.value=o.list.sort((c,n)=>c.equipmentOrder-n.equipmentOrder).map(c=>c.equipmentName))});async function $(s){const o=g.value.find(t=>t.equipmentName===s);if(!o)return;p.value=[],i.value=!0;const c=d.popupLocationList.find(t=>t.name===m),n=await M({pointId:c.id,equipmentOrder:o.equipmentOrder});n!=null&&n.infoList.length?n.infoList.forEach(async t=>{p.value.push({name:t.equipmentInfoName,data:[]});const w=await G({pointId:c.id,equipmentOrder:o.equipmentOrder,equipmentInfoOrder:t.equipmentInfoOrder}),q=p.value.find(b=>b.name===t.equipmentInfoName);q&&w.infoDetailList.forEach(b=>{q.data.push({name:b.monitorName,value:b.value+b.unitName})})}):n!=null&&n.infoDetailList.length&&(p.value.push({name:o.equipmentName,data:[]}),n.infoDetailList.forEach(t=>{const w=p.value.find(q=>q.name===o.equipmentName);w&&w.data.push({name:t.monitorName,value:t.value+t.unitName})}))}return(s,o)=>{const c=B("el-scrollbar");return a(),l(I,null,[v.value.length?(a(),l("div",{key:0,class:"left-btn publicBtn",style:k({background:"url(./assets/3d/image/"+(u(f)?"6":"5")+".png) center / 100% 100% no-repeat",cursor:u(d).allowControl.value?"pointer":"wait"}),onClick:S}," 设备工况 ",4)):z("",!0),y(e("div",se,[e("div",{class:"close",onClick:O}),e("div",ne,[ae,e("div",le,[oe,e("p",null,r(u(m)),1)])]),y(D(c,{class:"scroll"},{default:x(()=>[e("div",ie,[(a(!0),l(I,null,L(v.value,n=>(a(),l("div",{class:"item",onClick:t=>$(n)},r(n),9,ce))),256))])]),_:1},512),[[C,!u(i)]]),y(e("div",ue,[(a(!0),l(I,null,L(p.value,n=>(a(),l("div",re,[e("p",de,r(n.name),1),D(c,{class:"detail2-list-wrap"},{default:x(()=>[(a(!0),l(I,null,L(n.data,(t,w)=>(a(),l("div",_e,[e("p",null,r(t.name),1),t.value==="开启"||t.value==="关闭"?(a(),l("p",{key:0,class:"detail-list-status",style:k({backgroundColor:t.value==="开启"?"#63fd01":"#fa1416"})},r(t.value),5)):(a(),l("p",pe,r(t.value),1))]))),256))]),_:2},1024)]))),256))],512),[[C,u(i)]])],512),[[C,u(f)]])],64)}}},Ie=E(fe,[["__scopeId","data-v-846f2434"]]);export{Ie as D,he as P};
